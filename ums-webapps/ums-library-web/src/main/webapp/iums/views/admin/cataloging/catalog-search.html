<style>
    .top-buffer {
        margin-top: 10px;
    }

    .line-separator {
        height: 2px;
        background: #717171;
        border-radius: 15px;
    }

    #rcorners1 {
        border: 1px solid grey;
        border-radius: 10px;
        display: inline-block;
        padding: 8px;
    }

    #iSearchBox {
        border: none;
        font: 20px bold;
        vertical-align: middle;
    }

    #iSelectBox {
        border: 2px solid #b3b3b3;
        border-radius: 0.35em;
        vertical-align: middle;
        height: 35px;
    }
</style>


<form id="iBasicSearchForm" name="nBasicSearchForm" ng-submit="vm.doSearch();" novalidate>
    <div class="row">
        <div class="col-md-12">
            <div id="rcorners1">
                    <span>
                        <i class="fa fa-arrow-right fa-lg" aria-hidden="true"
                           style="color: #0093d9; padding: 0.35em"></i>
                    </span>
                <input id="iSearchBox"
                       name="nSearchBox"
                       type="search"
                       size="35"
                       placeholder="Search here..."
                       data-ng-model="vm.search.queryTerm"
                       title="Search here..."
                       autocomplete="off"/>
                <select id="iSelectBox" data-ng-model="vm.search.searchType" autocomplete="off">
                    <option value="basic">Basic Search</option>
                    <option value="advanced_search">Advanced Search</option>
                   <!-- <optgroup label="Camping">
                        <option value="authors">Authors</option>
                        <option value="corporate_authors">Corporate Authors</option>
                        <option value="subjects">Subjects</option>
                        <option value="titles">Titles</option>
                        <option value="7">Series</option>
                    </optgroup>-->
                </select>
                <button type="submit" class="btn btn-default"
                        style="background-color: white;border-radius: 0.35em !important;">
                    <i class="fa fa-search fa-lg"
                       style="color: #0093d9;">
                    </i>
                </button>
            </div>
        </div>
    </div>

    <div data-ng-show="vm.search.searchType=='basic'">
        <br/>
        <div class="row">
            <div class="col-md-2">
                <label class="control-label label-info">Select a category:</label>
            </div>
            <div class="col-md-1">
                <input type="radio"
                       id="square-radio-1"
                       name="choice"
                       ng-model="vm.choice"
                       value="subjects_txt"
                       autocomplete="off"/>
                <label for="square-radio-1">Subject</label>
            </div>
            <div class="col-md-1">
                <input type="radio"
                       id="square-radio-2"
                       name="choice"
                       ng-model="vm.choice"
                       value="title_t"
                       autocomplete="off"/>
                <label for="square-radio-2">Title</label>
            </div>
            <div class="col-md-1">
                <input type="radio"
                       id="square-radio-3"
                       name="choice"
                       ng-model="vm.choice"
                       value="contributors_txt"
                       autocomplete="off"/>
                <label for="square-radio-3">Author</label>
            </div>
            <div class="col-md-1">
                <input type="radio"
                       id="square-radio-4"
                       name="choice"
                       ng-model="vm.choice"
                       value="any"
                       checked="checked"
                       autocomplete="off"/>
                <label for="square-radio-4">Any</label>
            </div>
        </div>

        <div class="row">
            <div class="col-md-2">
                <label class="control-label label-info">Select a category:</label>
            </div>
            <div class="col-md-1">
                <input type="radio"
                       id="square-radio-5"
                       name="choiceType"
                       ng-model="vm.choiceType"
                       value="Exact"
                       checked="checked"
                       autocomplete="off"/>
                <label for="square-radio-5">Exactly</label>
            </div>
            <div class="col-md-1">
                <input type="radio"
                       id="square-radio-6"
                       name="choiceType"
                       ng-model="vm.choiceType"
                       value="Likely"
                       autocomplete="off"/>
                <label for="square-radio-6">Likely</label>
            </div>
        </div>
    </div>

    <div data-ng-if="vm.search.searchType=='advanced_search'">
        <div class="row top-buffer">
            <div class="col-md-10">
                <h5>Advanced Search</h5>
            </div>
        </div>
        <div class="row">
            <div class="col-md-10">
                <div class="line-separator"></div>
            </div>
        </div>

        <div class="row top-buffer">
            <div class="col-md-12">
                <!--<form id="iAdvancedSearch" name="nAdvancedSearch" ng-submit="vm.doSearch()" novalidate>-->
                    <div class="row">
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-6">
                                    <input id="iSearchBoxTitle"
                                           name="nSearchBoxTitle"
                                           data-ng-model="vm.search.title"
                                           type="text"
                                           placeholder="Title ... enter here"
                                           class="form-control"
                                    />
                                </div>
                                <div class="col-md-6">
                                    <input id="iSearchBoxAuthor"
                                           name="nSearchAuthor"
                                           data-ng-model="vm.search.author"
                                           type="text"
                                           placeholder="Author ... enter here"
                                           class="form-control"
                                    />
                                </div>
                            </div>
                            <div class="row top-buffer">
                                <div class="col-md-6">
                                    <input id="iSearchBoxSubject"
                                           name="nSearchBoxSubject"
                                           data-ng-model="vm.search.subject"
                                           type="text"
                                           placeholder="Subject ... enter here"
                                           class="form-control"
                                    />
                                </div>
                                <div class="col-md-6">
                                    <input id="iSearchBoxCorAuthor"
                                           name="nSearchBoxCorAuthor"
                                           data-ng-model="vm.search.corpAuthor"
                                           type="text"
                                           placeholder="Corporate Author ... enter here"
                                           class="form-control"/>
                                </div>
                            </div>
                            <div class="row top-buffer">
                                <div class="col-md-6">
                                    <input id="iSearchBoxPublisher"
                                           name="nSearchBoxPublisher"
                                           data-ng-model="vm.search.publisher"
                                           type="text"
                                           placeholder="Publisher ... enter here"
                                           class="form-control"/>
                                </div>
                                <div class="col-md-6">
                                    <input id="iSearchBoxSeries"
                                           name="niSearchBoxCorAuthor"
                                           data-ng-model="vm.search.series"
                                           type="text"
                                           placeholder="Series ... enter here"
                                           class="form-control"/>
                                </div>
                            </div>
                            <div class="row top-buffer">
                                <div class="col-md-6">
                                    <input id="iSearchBoxYearFrom"
                                           name="nSearchBoxYearFrom"
                                           data-ng-model="vm.search.yearFrom"
                                           type="text"
                                           placeholder="Year From"
                                           class="form-control"/>
                                </div>

                                <div class="col-md-6">
                                    <input id="iSearchBoxYearTo"
                                           name="nSearchBoxYearTo"
                                           data-ng-model="vm.search.yearTo"
                                           type="text"
                                           placeholder="Year To"
                                           class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <select name="nSelectType"
                                    id="iSelectType"
                                    data-ng-model="vm.search.itemType"
                                    title="Select a Type ..."
                                    class="form-control">
                                <option data-icon="fa-book" value="Book">Books</option>
                                <option value="Map">Maps</option>
                                <option value="Journal">Journals</option>
                                <option value="Thesis">Thesis</option>
                                <option value="Cd">CD-DVD</option>
                                <option value="Magazine">Magazine</option>
                            </select>

                            <!--<div class="top-buffer" align="right">-->
                                <!--<button type="button" class="btn btn-default btn-sm" data-ng-click="doSearch()">Submit-->
                                <!--</button>-->
                            <!--</div>-->
                        </div>
                    </div>
                <!--</form>-->
            </div>
        </div>
    </div>
</form>

<div class="row top-buffer">
    <div class="col-md-12">
        <div style="background-color:#E6F0F2;
                    border-radius: 15px 15px 0 0;
                    color: black;
                    min-height: 20px;
                    text-align:center">
            Total <strong>{{vm.data.totalRecord}}</strong> records found.
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <table class="table table-bordered table-striped table-hover">
            <thead>
            <tr>
                <th width="3%">#</th>
                <th width="7%">Category</th>
                <th width="50%">Title</th>
                <th width="20%">Call No</th>
                <th width="20%">Available</th>
            </tr>
            </thead>

            <tbody>
            <tr dir-paginate="rec in vm.recordList | itemsPerPage: vm.data.itemPerPage"
                current-page="vm.pagination.currentPage"
                total-items="vm.data.totalRecord"
                pagination-id="mainRecordPaginator">
                <td>
                    <span style="font-size: 110%;">{{((vm.pagination.currentPage-1)*vm.data.itemPerPage) + ($index+1)}}. </span>
                </td>
                <td>{{rec.materialTypeName}}</td>
                <td>
                    <div class="row">
                        <div class="col-md-8">
                            <a style="cursor: pointer;
                                      font-size: 100%;
                                      color: #0066cc;"
                               data-toggle="modal"
                               data-target="#bookPreview"
                               data-ng-click="vm.recordDetails($index)"
                               href="javascript:void(0)">
                                {{rec.title}}
                            </a>
                        </div>
                        <div class="col-md-4">
                            <div align="right">
                                <a style="cursor: pointer" data-toggle="modal"
                                   data-target="#bookPreview"
                                   href="javascript:void(0);">
                                    <img src="https://cdn3.iconfinder.com/data/icons/outline-location-icon-set/64/Library_1-128.png"
                                         height="20"
                                         width="20"
                                    />
                                </a>
                                | <a href="javascript:void(0);"
                                     data-ng-click="vm.navigateRecord('view', rec.mfnNo, vm.pagination.currentPage, $index)">View
                            </a>
                                | <a href="javascript:void(0);"
                                     data-ng-click="vm.navigateRecord('edit', rec.mfnNo, vm.pagination.currentPage, $index)">Edit
                            </a>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            {{rec.subTitle}}
                        </div>
                    </div>
                </td>
                <td>
                    {{rec.callNo}}
                </td>
                <td style="text-align: right;">
                <span data-toggle="tooltip"
                      title="Total Items"
                      class="label label-info">T:&nbsp;{{rec.totalItems}}</span>
                    <span data-toggle="tooltip"
                          title="Available"
                          class="label label-success">A:&nbsp;{{rec.totalAvailable}}</span>
                    <span data-toggle="tooltip"
                          title="Issued"
                          class="label label-danger">I:&nbsp;{{rec.totalCheckedOut}}</span>
                    <span data-toggle="tooltip"
                          title="On Hold" class="label label-warning">H:&nbsp;{{rec.totalOnHold}}</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="text-right">
    <dir-pagination-controls boundary-links="true"
                             pagination-id="mainRecordPaginator"
                             on-page-change="vm.pageChanged(newPageNumber)"
                             template-url="views\admin\patron\dirPagination.tpl.html">
    </dir-pagination-controls>
</div>


<div id="bookPreview" tabindex="-1" role="dialog" aria-labelledby="modal-default-label"
     aria-hidden="true" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" data-dismiss="modal" aria-hidden="true"
                        class="close" style="opacity: 1;margin-top: 0;">&times;
                </button>
                <h4 id="modal-default-label" class="modal-title">MFN-{{vm.record.mfnNo}}; Call Number :
                    {{vm.record.callNo}}</h4></div>
            <div class="modal-body">
                <ul class="list-unstyled desc">
                    <li><a href="javascript:void(0);"
                           class="title">{{vm.record.title}}</a>
                    </li>
                    <li>by &nbsp;<span
                            data-ng-repeat="con in vm.record.contributorList">{{con.name}}[{{con.roleName}}]</span>
                    </li>
                    <li><b>Material type:</b>{{vm.record.materialTypeName}}</li>
                    <li><b>Edition:</b> {{vm.record.edition}}</li>
                    <li><b>ISBN:</b> {{vm.record.isbn}}</li>
                    <li><b>Imprint:</b> {{vm.record.imprint.publisherName}}, &nbsp;
                        {{vm.record.imprint.yearOfPublication}}, &nbsp;{{vm.record.imprint.placeOfPublication}}
                    </li>
                    <li><b>Subject:</b> <span
                            data-ng-repeat="sub in vm.record.subjectList">{{sub.subject}}, &nbsp;</span>
                    </li>
                    <li><b>keywords:</b> {{vm.record.keywords}}</li>
                    <li><b>Notes:</b><span data-ng-repeat="note in vm.record.noteList">{{note.note}}</span></li>
                    <li><b>Physical Description:</b>Pagination: {{vm.record.physicalDescription.pagination}},
                        Illustrations: {{vm.record.physicalDescription.illustrations}},
                        AccompanyingMaterials: {{vm.record.physicalDescription.accompanyingMaterials}},
                        Dimensions: {{vm.record.physicalDescription.dimensions}},
                        PaperQuality: {{vm.record.physicalDescription.paperQuality}}
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" class="btn btn-default">Close</button>
            </div>
        </div>
    </div>
</div>
