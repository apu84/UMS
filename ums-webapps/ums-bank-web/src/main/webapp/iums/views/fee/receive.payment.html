<div class="panel">
    <div class="panel-heading">Receive payments</div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-4">
                <div class="input-group input-group-sm mbs">
            <span class="input-group-btn">
              <button type="button" data-toggle="dropdown" class="btn btn-danger dropdown-toggle">
                Filter
                &nbsp;<span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a href="javascript:void(0);"><i class="fa fa-tint"></i>&nbsp;
                    StudentId</a></li>
                <li><a href="javascript:void(0);"><i class="fa fa-star"></i>&nbsp;
                    TransactionId</a></li>
              </ul></span>
                    <input type="text" placeholder="StudentId" class="form-control required"
                           data-ng-model="vm.studentId">
                    <span class="input-group-btn">
              <button type="button" data-toggle="dropdown"
                      class="btn btn-success dropdown-toggle" data-ng-click="vm.getAppliedPayments()">Search</button>
            </span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <table class="table table-hover table-bordered table-advanced table-striped"
                       data-ng-repeat='feeType in vm.appliedPayments'>
                    <thead>
                    <tr>
                        <td>
                            Payment for: <i>{{::feeType.feeTypeDescription}}</i>
                        </td>
                    </tr>
                    </thead>
                    <tr data-ng-repeat="transaction in feeType.transactions">
                        <td style="padding: 0">
                            <table class="course-teacher-inner"
                                   style="border-collapse: collapse;">
                                <thead>
                                <tr>
                                    <td style="padding:10px;border-top: none;width: 30%">
                                        <b>TxId</b></td>
                                    <td style="padding:10px;border-top: none;width: 25%">
                                        <b>Type</b></td>
                                    <td style="padding:10px;border-top: none;width: 20%"><b>Applied
                                        On</b></td>
                                    <td style="padding:10px;border-top: none;width: 20%"><b>Amount (BDT)</b>
                                    </td>
                                    <td style="padding:10px;border-top: none;width: 5%">
                                    </td>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-ng-repeat="payment in transaction.entries">
                                    <td style="padding:10px" rowspan="{{::transaction.entries.length}}"
                                        data-ng-if="$index===0">
                                        {{::transaction.id}}
                                    </td>
                                    <td style="padding:10px">
                                        {{payment.feeCategory}}
                                    </td>
                                    <td style="padding:10px">
                                        {{payment.appliedOn}}
                                    </td>
                                    <td style="padding:10px">
                                        {{payment.amount}}/=
                                    </td>
                                    <td style="padding:10px" rowspan="{{::transaction.entries.length}}"
                                        data-ng-if="$index===0">
                                        <input type="checkbox"
                                               data-ng-model="vm.selectedPayments[transaction.id]"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="padding:10px; text-align: right">
                                        Total
                                    </td>
                                    <td colspan="2" style="padding:10px">
                                        {{vm.totalAmount(transaction.entries)}}/=
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button type="button" class="btn btn-default btn-outlined" data-ng-click="vm.next()">
                    Next&nbsp;<i class="fa fa-arrow-circle-o-right"></i>
                </button>
            </div>
        </div>

    </div>
</div>

